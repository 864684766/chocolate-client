"use strict";const e=require("electron"),o=require("path"),a=require("url");var t=typeof document<"u"?document.currentScript:null;const c=a.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(__filename).href:t&&t.tagName.toUpperCase()==="SCRIPT"&&t.src||new URL("main/index.cjs",document.baseURI).href),i=o.dirname(c),d="Chocolate Client",l=!e.app.isPackaged;function r(){const n=new e.BrowserWindow({width:1200,height:800,minWidth:800,minHeight:600,title:d,webPreferences:{preload:o.join(i,"../preload/index.cjs"),contextIsolation:!0,sandbox:!0,nodeIntegration:!1,webSecurity:!0}});return l?(n.loadURL("http://localhost:5173"),n.webContents.openDevTools()):n.loadFile(o.join(i,"../dist/index.html")),n}function s(){r()}function p(){process.platform!=="darwin"&&e.app.quit()}function u(){e.BrowserWindow.getAllWindows().length===0&&r()}function f(){e.ipcMain.handle("app:getVersion",()=>e.app.getVersion()),e.ipcMain.handle("app:getPlatform",()=>process.platform)}e.app.whenReady().then(()=>{f(),s()});e.app.on("window-all-closed",p);e.app.on("activate",u);
